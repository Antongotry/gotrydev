# Universal License Manager

–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ª—ñ—Ü–µ–Ω–∑—É–≤–∞–Ω–Ω—è –¥–ª—è WordPress –ø–ª–∞–≥—ñ–Ω—ñ–≤.

## –û–ø–∏—Å

Universal License Manager - —Ü–µ WordPress –ø–ª–∞–≥—ñ–Ω, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –∫–µ—Ä—É–≤–∞—Ç–∏ –ª—ñ—Ü–µ–Ω–∑—ñ—è–º–∏ –¥–ª—è –≤—Å—ñ—Ö –≤–∞—à–∏—Ö –ø–ª–∞–≥—ñ–Ω—ñ–≤ –∑ –æ–¥–Ω–æ–≥–æ –º—ñ—Å—Ü—è. –í—ñ–Ω –Ω–∞–¥–∞—î REST API –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ª—ñ—Ü–µ–Ω–∑—ñ–π —Ç–∞ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏, –ª—ñ—Ü–µ–Ω–∑—ñ—è–º–∏ —Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü—ñ—è–º–∏.

## –§—É–Ω–∫—Ü—ñ—ó

### üîê –°–∏—Å—Ç–µ–º–∞ –ª—ñ—Ü–µ–Ω–∑—É–≤–∞–Ω–Ω—è
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –∫–ª—é—á—ñ–≤ –ª—ñ—Ü–µ–Ω–∑—ñ–π
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª—ñ—Ü–µ–Ω–∑—ñ–π —á–µ—Ä–µ–∑ REST API
- –ê–∫—Ç–∏–≤–∞—Ü—ñ—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü—ñ—è –¥–æ–º–µ–Ω—ñ–≤
- –û–±–º–µ–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∞–∫—Ç–∏–≤–∞—Ü—ñ–π
- –¢–µ—Ä–º—ñ–Ω –¥—ñ—ó –ª—ñ—Ü–µ–Ω–∑—ñ–π

### üìä –ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å
- Dashboard –∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é
- –ö–µ—Ä—É–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏
- –ö–µ—Ä—É–≤–∞–Ω–Ω—è –ª—ñ—Ü–µ–Ω–∑—ñ—è–º–∏
- –ü–µ—Ä–µ–≥–ª—è–¥ –∞–∫—Ç–∏–≤–Ω–∏—Ö –¥–æ–º–µ–Ω—ñ–≤
- –õ–æ–≥–∏ –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫

### üåê REST API
- `/wp-json/ulm/v1/verify` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª—ñ—Ü–µ–Ω–∑—ñ—ó
- `/wp-json/ulm/v1/activate` - –∞–∫—Ç–∏–≤–∞—Ü—ñ—è –¥–æ–º–µ–Ω—É
- `/wp-json/ulm/v1/deactivate` - –¥–µ–∞–∫—Ç–∏–≤–∞—Ü—ñ—è –¥–æ–º–µ–Ω—É

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –ø–∞–ø–∫—É `universal-license-manager` –≤ `wp-content/plugins/`
2. –ê–∫—Ç–∏–≤—É–π—Ç–µ –ø–ª–∞–≥—ñ–Ω –≤ WordPress Admin
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ –º–µ–Ω—é "License Manager"

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –î–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–ª–∞–≥—ñ–Ω—ñ–≤

1. **–î–æ–¥–∞–π—Ç–µ Universal License Client –≤ –≤–∞—à –ø–ª–∞–≥—ñ–Ω:**

```php
require_once 'path/to/class-license-client.php';

class Your_Plugin_License extends Universal_License_Client {
    public function __construct() {
        parent::__construct(
            'https://antongotry.dev/wp-json/ulm/v1',
            'your-plugin-slug'
        );
    }
}
```

2. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª—ñ—Ü–µ–Ω–∑—ñ—ó:**

```php
$license = new Your_Plugin_License();

if (!$license->verify()) {
    // –ë–ª–æ–∫—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª
    return;
}

// –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ —Ä–æ–±–æ—Ç—É
```

3. **–ê–∫—Ç–∏–≤–∞—Ü—ñ—è –ª—ñ—Ü–µ–Ω–∑—ñ—ó:**

```php
$result = $license->activate($license_key, $email);
if ($result['success']) {
    echo 'License activated!';
}
```

### –î–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤

1. **–î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—É:**
   - License Manager ‚Üí Products ‚Üí Add Product
   - –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É, slug, –≤–µ—Ä—Å—ñ—é

2. **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ª—ñ—Ü–µ–Ω–∑—ñ—ó:**
   - License Manager ‚Üí Licenses ‚Üí Generate License
   - –í–∏–±–µ—Ä—ñ—Ç—å –ø—Ä–æ–¥—É–∫—Ç, –≤–≤–µ–¥—ñ—Ç—å email –∫–ª—ñ—î–Ω—Ç–∞
   - –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –ª—ñ–º—ñ—Ç –∞–∫—Ç–∏–≤–∞—Ü—ñ–π —Ç–∞ —Ç–µ—Ä–º—ñ–Ω –¥—ñ—ó

3. **–ö–µ—Ä—É–≤–∞–Ω–Ω—è –ª—ñ—Ü–µ–Ω–∑—ñ—è–º–∏:**
   - –ü–µ—Ä–µ–≥–ª—è–¥ –≤—Å—ñ—Ö –ª—ñ—Ü–µ–Ω–∑—ñ–π
   - –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è/—Ä–æ–∑–±–ª–æ–∫—É–≤–∞–Ω–Ω—è
   - –í–∏–¥–∞–ª–µ–Ω–Ω—è
   - –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∫–ª—é—á—ñ–≤

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

### wp_ulm_products
- `id` - ID –ø—Ä–æ–¥—É–∫—Ç—É
- `name` - –ù–∞–∑–≤–∞ –ø—Ä–æ–¥—É–∫—Ç—É
- `slug` - Slug –ø—Ä–æ–¥—É–∫—Ç—É (—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π)
- `version` - –í–µ—Ä—Å—ñ—è –ø—Ä–æ–¥—É–∫—Ç—É
- `price` - –¶—ñ–Ω–∞
- `description` - –û–ø–∏—Å
- `created_at` - –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è

### wp_ulm_licenses
- `id` - ID –ª—ñ—Ü–µ–Ω–∑—ñ—ó
- `product_id` - ID –ø—Ä–æ–¥—É–∫—Ç—É (FK)
- `license_key` - –ö–ª—é—á –ª—ñ—Ü–µ–Ω–∑—ñ—ó (—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π)
- `customer_email` - Email –∫–ª—ñ—î–Ω—Ç–∞
- `customer_name` - –Ü–º'—è –∫–ª—ñ—î–Ω—Ç–∞
- `status` - –°—Ç–∞—Ç—É—Å (active/inactive/expired/blocked)
- `activations_limit` - –õ—ñ–º—ñ—Ç –∞–∫—Ç–∏–≤–∞—Ü—ñ–π
- `activations_count` - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∞–∫—Ç–∏–≤–∞—Ü—ñ–π
- `expires_at` - –¢–µ—Ä–º—ñ–Ω –¥—ñ—ó
- `notes` - –ù–æ—Ç–∞—Ç–∫–∏
- `created_at` - –î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è

### wp_ulm_activations
- `id` - ID –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
- `license_id` - ID –ª—ñ—Ü–µ–Ω–∑—ñ—ó (FK)
- `domain` - –î–æ–º–µ–Ω
- `ip` - IP –∞–¥—Ä–µ—Å–∞
- `activated_at` - –î–∞—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
- `last_check` - –û—Å—Ç–∞–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
- `site_data` - –î–∞–Ω—ñ —Å–∞–π—Ç—É (JSON)

### wp_ulm_logs
- `id` - ID –ª–æ–≥—É
- `license_id` - ID –ª—ñ—Ü–µ–Ω–∑—ñ—ó (FK)
- `action` - –î—ñ—è (verify/activate/deactivate)
- `domain` - –î–æ–º–µ–Ω
- `ip` - IP –∞–¥—Ä–µ—Å–∞
- `response` - –†–µ–∑—É–ª—å—Ç–∞—Ç (success/failed)
- `message` - –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- `created_at` - –î–∞—Ç–∞

## API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

### POST /wp-json/ulm/v1/verify

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª—ñ—Ü–µ–Ω–∑—ñ—ó.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `product_slug` (string) - Slug –ø—Ä–æ–¥—É–∫—Ç—É
- `license_key` (string) - –ö–ª—é—á –ª—ñ—Ü–µ–Ω–∑—ñ—ó
- `domain` (string) - –î–æ–º–µ–Ω

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
    "valid": true,
    "message": "License is valid",
    "expires_at": "2024-12-31",
    "activations_count": 1,
    "activations_limit": 3
}
```

### POST /wp-json/ulm/v1/activate

–ê–∫—Ç–∏–≤–∞—Ü—ñ—è –¥–æ–º–µ–Ω—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `product_slug` (string) - Slug –ø—Ä–æ–¥—É–∫—Ç—É
- `license_key` (string) - –ö–ª—é—á –ª—ñ—Ü–µ–Ω–∑—ñ—ó
- `domain` (string) - –î–æ–º–µ–Ω
- `email` (string) - Email –∫–ª—ñ—î–Ω—Ç–∞
- `site_data` (string) - –î–∞–Ω—ñ —Å–∞–π—Ç—É (JSON)

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
    "success": true,
    "message": "Domain activated successfully"
}
```

### POST /wp-json/ulm/v1/deactivate

–î–µ–∞–∫—Ç–∏–≤–∞—Ü—ñ—è –¥–æ–º–µ–Ω—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `product_slug` (string) - Slug –ø—Ä–æ–¥—É–∫—Ç—É
- `license_key` (string) - –ö–ª—é—á –ª—ñ—Ü–µ–Ω–∑—ñ—ó
- `domain` (string) - –î–æ–º–µ–Ω

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
    "success": true,
    "message": "Domain deactivated successfully"
}
```

## –ë–µ–∑–ø–µ–∫–∞

- –í—Å—ñ API –∑–∞–ø–∏—Ç–∏ –ª–æ–≥—É—é—Ç—å—Å—è
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ IP –∞–¥—Ä–µ—Å
- –û–±–º–µ–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∞–∫—Ç–∏–≤–∞—Ü—ñ–π
- –ö–µ—à—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫
- WordPress nonce –∑–∞—Ö–∏—Å—Ç

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

- **–ê–≤—Ç–æ—Ä:** AntonGotry
- **Telegram:** @notarikon
- **–í–µ—Ä—Å—ñ—è:** 1.0.0

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

GPL v2 or later
