# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å Webhook

## ‚ùå –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

1. **Webhook –∫–æ–ø–∏—Ä–æ–≤–∞–ª –í–ï–°–¨ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `git pull`)
   - ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ GitHub API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–ª—å–∫–æ –ø–∞–ø–∫–∏ —Ç–µ–º—ã

2. **–ö–æ—Ä–Ω–µ–≤–æ–π `index.php` –ø–æ–ø–∞–¥–∞–ª –≤ –ø–∞–ø–∫—É —Ç–µ–º—ã**
   - ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ - –∫–æ—Ä–Ω–µ–≤–æ–π `index.php` (—Å `WP_USE_THEMES`) –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è

3. **–û—à–∏–±–∫–∞ "WP_USE_THEMES already defined"**
   - ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** Webhook —Ç–µ–ø–µ—Ä—å –Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ –∫–æ—Ä–Ω—è WordPress –≤ —Ç–µ–º—É

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ –°–ï–ô–ß–ê–°:

### –®–∞–≥ 1: –£–¥–∞–ª–∏—Ç–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `index.php` –∏–∑ —Ç–µ–º—ã –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ

–ï—Å–ª–∏ –≤ –ø–∞–ø–∫–µ —Ç–µ–º—ã –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ –µ—Å—Ç—å `index.php` —Å `WP_USE_THEMES`, —É–¥–∞–ª–∏—Ç–µ –µ–≥–æ –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º:

1. –ó–∞–π–¥–∏—Ç–µ –≤ **File Manager** –Ω–∞ Hostinger
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `public_html/wp-content/themes/gotry/`
3. –û—Ç–∫—Ä–æ–π—Ç–µ `index.php`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:
   - ‚ùå **–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:** –ï—Å–ª–∏ —Ç–∞–º `define('WP_USE_THEMES', true)` - —ç—Ç–æ –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–∞–π–ª!
   - ‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–û:** –î–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `get_header();` (–±–µ–∑ `WP_USE_THEMES`)

5. –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:
   - –£–¥–∞–ª–∏—Ç–µ –µ–≥–æ: `index.php`
   - –ò–ª–∏ –∑–∞–º–µ–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞:
   ```php
   <?php
   /**
    * Main Template File
    * –î–ª—è –≤—Å—ñ—Ö —ñ–Ω—à–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –æ–∫—Ä—ñ–º –≥–æ–ª–æ–≤–Ω–æ—ó
    */
   
   get_header(); 
   ?>
   
   <main id="main" class="site-main">
       <?php
       if (have_posts()) :
           while (have_posts()) :
               the_post();
               ?>
               <article id="post-<?php the_ID(); ?>" <?php post_class(); ?>>
                   <header class="entry-header">
                       <?php the_title('<h1 class="entry-title">', '</h1>'); ?>
                   </header>
                   
                   <div class="entry-content">
                       <?php the_content(); ?>
                   </div>
               </article>
               <?php
           endwhile;
           
           the_posts_navigation();
           
       else :
           ?>
           <p><?php _e('No content found', 'gotry'); ?></p>
           <?php
       endif;
       ?>
   </main>
   
   <?php get_footer(); ?>
   ```

### –®–∞–≥ 2: –£–¥–∞–ª–∏—Ç–µ –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ —Ç–µ–º—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É —Ç–µ–º—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ –∫–æ—Ä–Ω—è WordPress:
- `wp-load.php`
- `wp-blog-header.php`
- `wp-config-sample.php`
- `wp-activate.php`
- –î—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –∫–æ—Ä–Ω—è

**–£–¥–∞–ª–∏—Ç–µ –∏—Ö!** –û–Ω–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –ø–∞–ø–∫–µ —Ç–µ–º—ã.

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç–µ webhook —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ

1. –°–∫–∞—á–∞–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è: `wp-content/webhook-theme-deploy.php`
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –µ–≥–æ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥, –∑–∞–º–µ–Ω–∏–≤ —Å—Ç–∞—Ä—ã–π: `public_html/wp-content/webhook-theme-deploy.php`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É webhook

1. –°–¥–µ–ª–∞–π—Ç–µ –Ω–µ–±–æ–ª—å—à–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ —Ç–µ–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ `style.css`)
2. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ:
   ```bash
   git add wp-content/themes/gotry/style.css
   git commit -m "Test webhook after fix"
   git push origin main
   ```
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –ù–∞ GitHub: Settings ‚Üí Webhooks ‚Üí Recent Deliveries (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 200 OK)
   - –ù–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ: `wp-content/webhook-theme-deploy.log` (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∏)
   - –ù–∞ —Å–∞–π—Ç–µ: –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è

## ‚úÖ –ß—Ç–æ —Ç–µ–ø–µ—Ä—å –¥–µ–ª–∞–µ—Ç webhook:

1. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç GitHub** –ø—Ä–∏ push
2. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç**, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ `wp-content/themes/gotry/`
3. **–°–∫–∞—á–∏–≤–∞–µ—Ç –∞—Ä—Ö–∏–≤** —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —á–µ—Ä–µ–∑ GitHub API
4. **–ö–æ–ø–∏—Ä—É–µ—Ç –¢–û–õ–¨–ö–û —Ñ–∞–π–ª—ã —Ç–µ–º—ã** (–∏—Å–∫–ª—é—á–∞—è –∫–æ—Ä–Ω–µ–≤—ã–µ —Ñ–∞–π–ª—ã WordPress)
5. **–ù–ï —Ç—Ä–æ–≥–∞–µ—Ç** `wp-config.php`, `.htaccess`, `wp-content/uploads/` –∏ –¥—Ä—É–≥–∏–µ –≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

- ‚úÖ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `git pull` (–∫–æ—Ç–æ—Ä—ã–π –∫–æ–ø–∏—Ä—É–µ—Ç –≤–µ—Å—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–¥ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –ò—Å–∫–ª—é—á–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ –∫–æ—Ä–Ω—è WordPress
- ‚úÖ –ö–æ–ø–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ —Ç–µ–º—ã
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è

## üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è webhook —Å–∫—Ä–∏–ø—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã –≤ —Ç–µ–º–µ:
- `index.php` - –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `get_header();` (–ë–ï–ó `WP_USE_THEMES`)
- `style.css` - –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Ç–µ–º—ã
- `functions.php` - –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–µ–º—ã
- `front-page.php` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ–º—ã

–ï—Å–ª–∏ –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ - –æ—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å!
